<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Character encoding and viewport settings for responsive design -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Oriki - Discover your Yoruba praise name through an interactive cultural quiz">

    <!-- Page title -->
    <title>Oriki - Your Yoruba Praise Name</title>

    <!-- Stylesheet link -->
    <link rel="stylesheet" href="styles.css?v=4">
</head>
<body>
    <!-- Main header with app title -->
    <header class="app-header">
        <h1>Oriki</h1>
        <p class="subtitle">Discover Your Yoruba Praise Name</p>
    </header>

    <!-- Main content area - contains all app sections -->
    <main class="app-main">

        <!-- Error Message Container - shown when errors occur -->
        <div id="error-container" class="error-container hidden">
            <div class="error-content">
                <div class="error-icon">!</div>
                <div class="error-message-wrapper">
                    <p id="error-message" class="error-message"></p>
                    <button id="error-dismiss-btn" class="error-dismiss-btn">Dismiss</button>
                </div>
            </div>
        </div>

        <!-- Welcome Section - shown initially -->
        <section id="welcome-section" class="section active">
            <div class="welcome-content">
                <h2>Welcome to Oriki</h2>
                <p class="intro-text">
                    In Yoruba culture, an Oriki is a praise name that reflects character,
                    destiny, and identity. Take this journey to discover your unique Oriki
                    based on your personality and values.
                </p>
                <p class="instructions">
                    Answer a few questions about yourself, and we'll generate a personalized
                    Oriki that celebrates who you are.
                </p>
                <button id="start-quiz-btn" class="btn btn-primary">Begin Your Journey</button>
            </div>
        </section>

        <!-- Quiz Section - hidden initially, shown when quiz starts -->
        <section id="quiz-section" class="section hidden">
            <div class="quiz-content">
                <!-- Progress indicator -->
                <div class="quiz-progress">
                    <p class="progress-text">Question <span id="current-question">1</span> of <span id="total-questions">5</span></p>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                </div>

                <!-- Question display area -->
                <div class="question-container">
                    <h2 id="question-text" class="question-text">Question will appear here</h2>

                    <!-- Answer options container -->
                    <div id="answer-options" class="answer-options">
                        <!-- Answer buttons will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Navigation buttons -->
                <div class="quiz-navigation">
                    <button id="prev-btn" class="btn btn-secondary" disabled>Previous</button>
                    <button id="next-btn" class="btn btn-primary" disabled>Next</button>
                </div>
            </div>
        </section>

        <!-- Results Section - hidden initially, shown when quiz completes -->
        <section id="results-section" class="section hidden">
            <!-- Loading overlay - shown while generating results -->
            <div id="loading-overlay" class="loading-overlay">
                <div class="loading-content">
                    <div class="spinner"></div>
                    <p class="loading-message">Creating your personalized Oriki...</p>
                    <p class="loading-submessage">Take a deep breath. Your journey is being honored.</p>
                    <button id="cancel-loading-btn" class="btn btn-tertiary cancel-loading-btn hidden">Cancel</button>
                </div>
            </div>

            <!-- Error display in results section -->
            <div id="results-error" class="results-error hidden">
                <div class="error-icon-large">!</div>
                <h3>Something Went Wrong</h3>
                <p id="results-error-message" class="results-error-message"></p>
                <div class="error-actions">
                    <button id="try-again-btn" class="btn btn-primary">Try Again</button>
                    <button id="back-to-quiz-btn" class="btn btn-secondary">Back to Quiz</button>
                </div>
            </div>

            <div class="results-content">
                <h2>Your Oriki</h2>

                <!-- Poem Display - the generated praise poetry -->
                <div class="poem-container">
                    <h3>Your Praise Poetry</h3>
                    <div id="poem-lines" class="poem-lines">
                        <!-- Poem lines will be inserted here dynamically -->
                    </div>
                </div>

                <!-- Affirmations List - personalized affirmations -->
                <div class="affirmations-container">
                    <h3>Your Daily Affirmations</h3>
                    <p class="affirmations-intro">Carry these words with you as reminders of your strength and purpose.</p>
                    <ul id="affirmations-list" class="affirmations-list">
                        <!-- Affirmation items will be inserted here dynamically -->
                    </ul>
                </div>

                <!-- Audio Player Section - functional audio player -->
                <div class="audio-container">
                    <h3>Listen to Your Oriki</h3>
                    <p class="audio-description">Hear your Oriki spoken with reverence and power.</p>

                    <!-- Generate Audio Button - shown initially -->
                    <button id="generate-audio-btn" class="btn btn-secondary generate-audio-btn">
                        Generate Audio
                    </button>

                    <!-- Audio Loading State - shown while generating -->
                    <div id="audio-loading" class="audio-loading hidden">
                        <div class="spinner"></div>
                        <p class="loading-message">Creating your audio narration...</p>
                    </div>

                    <!-- Audio Player - shown after audio is generated -->
                    <div id="audio-player" class="audio-player hidden">
                        <!-- HTML5 audio element -->
                        <audio id="audio-element" preload="auto">
                            Your browser does not support the audio element.
                        </audio>

                        <!-- Custom audio controls -->
                        <div class="audio-controls">
                            <button id="play-pause-btn" class="audio-btn play-btn" aria-label="Play audio">
                                <!-- Play icon (SVG) -->
                                <svg class="play-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                                <!-- Pause icon (SVG) -->
                                <svg class="pause-icon hidden" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                                </svg>
                            </button>

                            <button id="download-audio-btn" class="audio-btn download-btn" aria-label="Download audio">
                                <!-- Download icon (SVG) -->
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Tradition Switcher - allows trying other cultural modes -->
                <div class="tradition-switcher">
                    <p class="tradition-switcher-label">Experience your praise in another tradition:</p>
                    <div class="tradition-buttons">
                        <button class="btn btn-tertiary tradition-btn" data-mode="yoruba_inspired">Yoruba-Inspired</button>
                        <button class="btn btn-tertiary tradition-btn" data-mode="secular">Secular</button>
                        <button class="btn btn-tertiary tradition-btn" data-mode="turkish">Turkish</button>
                        <button class="btn btn-tertiary tradition-btn" data-mode="biblical">Biblical</button>
                    </div>
                </div>

                <!-- Cultural Context - shown for all modes with mode-specific information -->
                <div id="cultural-disclaimer" class="cultural-disclaimer hidden">
                    <!-- Content will be dynamically populated by JavaScript based on cultural mode -->
                </div>

                <!-- Action buttons -->
                <div class="results-actions">
                    <button id="copy-poem-btn" class="btn btn-secondary">Copy Oriki</button>
                    <button id="regenerate-btn" class="btn btn-secondary">Generate New Variation</button>
                    <button id="share-btn" class="btn btn-secondary">Share Your Oriki</button>
                    <button id="start-over-btn" class="btn btn-primary">Start Over</button>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer with cultural acknowledgment -->
    <footer class="app-footer">
        <p class="acknowledgment">
            This app honors the rich cultural heritage of the Yoruba people.
            Oriki are sacred cultural artifacts, and we approach them with respect and reverence.
        </p>
        <p class="copyright">
            &copy; 2025 Oriki Project
        </p>
    </footer>

    <!-- JavaScript file link - placed at end of body for performance -->
    <script src="app.js?v=3"></script>
</body>
</html>
